#include <main.h>

byte steps[] = {
   0b00000001,
   0b00000010,
   0b01000100,
   0b00001000
};

int direita = 0;

#INT_EXT
void  EXT_isr(void) 
{
   direita = !direita;
}

void main()
{
   port_B_pullups(0xFF);
   enable_interrupts(INT_EXT);
   enable_interrupts(GLOBAL);
   ext_int_edge(L_TO_H);
   
   int i = 0;
      
   while(TRUE)
   {

      
      output_d(steps[i]);
      delay_ms(10);
      
     
      if (i == -1 && direita) {
         i = 3;
      } else if (direita) {
         i--;
      } else if (i == 4 && !direita) {
         i = 0;
      } else if (!direita) {
         i++;
      }
   }

}
